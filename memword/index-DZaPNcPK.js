import{A as e,B as t,C as n,D as r,E as i,F as a,G as o,H as s,I as c,J as l,K as u,L as d,M as f,N as p,O as m,P as h,Q as ee,R as g,S as _,T as te,U as v,_ as y,a2 as ne,a3 as re,a4 as b,a5 as ie,a6 as ae,a7 as oe,a8 as x,a9 as S,aa as se,ab as ce,ac as C,ad as w,ae as T,af as le,ag as E,ah as D,ai as ue,aj as O,ak as k,al as de,am as fe,an as A,ao as j,ap as pe,aq as M,ar as N,as as me,at as P,au as he,av as F,aw as I,ax as L,ay as R,az as z,b as B,c as ge,d as V,e as H,f as _e,g as U,h as W,i as G,j as ve,k as K,l as ye,m as q,n as be,o as J,p as xe,q as Se,r as Ce,s as we,t as Te,u as Ee,v as De,w as Y,x as X,y as Oe,z as ke}from"./list-Cxws4W8U.js";var Ae=j(`<input>`),Z=e=>{let[t,n]=z(e,[`binding`]),[r,i]=t.binding;return(()=>{var e=Ae();return A(e,R(n,{get value(){return r()},onInput:e=>i(e.currentTarget.value)}),!1,!1),e})()},je=j(`<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 128 128"><title>Loading</title><g><circle cx=16 cy=64 r=16 fill=#000000></circle><circle cx=16 cy=64 r=16 fill=#555555 transform=rotate(45,64,64)></circle><circle cx=16 cy=64 r=16 fill=#949494 transform=rotate(90,64,64)></circle><circle cx=16 cy=64 r=16 fill=#cccccc transform=rotate(135,64,64)></circle><circle cx=16 cy=64 r=16 fill=#e1e1e1 transform=rotate(180,64,64)></circle><circle cx=16 cy=64 r=16 fill=#e1e1e1 transform=rotate(225,64,64)></circle><circle cx=16 cy=64 r=16 fill=#e1e1e1 transform=rotate(270,64,64)></circle><circle cx=16 cy=64 r=16 fill=#e1e1e1 transform=rotate(315,64,64)></circle><animateTransform attributeName=transform type=rotate values="45 64 64;90 64 64;135 64 64;180 64 64;225 64 64;270 64 64;315 64 64;0 64 64;"calcMode=discrete dur=720ms repeatCount=indefinite>`),Me=e=>(()=>{var t=je();return A(t,e,!0,!0),t})(),Ne=j(`<div><div class="w-7 [app-region:no-drag]"></div><div class="grow font-bold text-center [app-region:drag]"></div><div class="w-7 [app-region:no-drag]">`),Pe=j(`<div class="absolute inset-0 bg-[var(--bg-half)] flex justify-center content-center flex-wrap">`),Fe=j(`<div>`),Q=t=>{let[n,r]=z(t,[`title`,`leftElem`,`rightElem`,`class`,`onBackClick`,`children`]);return[(()=>{var t=Ne(),r=t.firstChild,i=r.nextSibling,a=i.nextSibling;return O(r,P(N,{get when(){return!n.leftElem},get fallback(){return n.leftElem},get children(){return P(N,{get when(){return n.onBackClick},get children(){return P(H,{get onClick(){return n.onBackClick},class:`w-full h-7 icon-[material-symbols--chevron-left] align-bottom`})}})}})),O(i,()=>e()||n.title),O(a,P(N,{get when(){return!n.rightElem},fallback:`local.rightElem`,get children(){return P(N,{when:!1,get children(){return P(H,{class:`w-full h-7 icon-[heroicons-solid--dots-horizontal] align-bottom`})}})}})),F(()=>D(t,`title shrink-0 px-2 flex justify-between items-center font-bold ${e()?`bg-(--bg-button-prime)`:`bg-(--bg-title)`}`)),t})(),(()=>{var e=Fe();return A(e,R({get class(){return`body relative grow h-0 ${n.class??``}`}},r),!1,!0),O(e,()=>n.children,null),O(e,P(N,{get when(){return De()},get children(){var e=Pe();return O(e,P(Me,{class:`w-16 h-16`})),e}}),null),e})()]},Ie=j(`<div><h1>快乐背单词</h1><p>版本：`),Le=j(`<div><h1>语言基础</h1><p>词汇是<b>语言的基础</b>，学习语言应该掌握一定数量的基础词汇。`),Re=j(`<div><h1>高频词汇</h1><p>每个词汇的重要程度是不一样的，越是使用<b>频率高的词汇</b>，其重要程度越高，本工具提供多种词频工具统计的结果词书。`),ze=j(`<div><h1>遗忘曲线</h1><p>记忆最大的敌人是遗忘，本工具依据「艾宾浩斯」<b>遗忘曲线</b>设计大脑刺激频率，以最大化记忆效率。`),Be=j(`<div><h1>碎片时间</h1><p>现代人工作学习都非常忙碌，充分利用好<b>碎片时间</b>，是成功的关键。`),Ve=j(`<div><h1>开始学习</h1><p>使用你的手机，单击<!>开始免费学习吧。`),He=j(`<div><h1>微信</h1><p>*提示一：请使用<b>除微信以外</b>的其他浏览器，如果当前是在微信中，点击屏幕右上(...)，然后选择「在默认浏览器中打开」。`),Ue=j(`<div><h1>桌面</h1><p>*提示二(iOS): 请使用「共享」-「添加到主屏幕」安装 <b>Web应用</b> 到桌面，以便下次直接<!>进入。</p><p>*提示三(Android): 请使用「...」-「安装应用」安装 <b>Web应用</b> 到桌面，以便下次直接点击进入。`),We=()=>{let[e,t]=L(!1),[r,i]=L(``);return P(Q,{title:`快乐背单词`,class:`about flex flex-col pb-4 font-extrabold overflow-y-auto`,get onBackClick(){return n()?()=>G(`#home`):void 0},get children(){return[P(N,{get when(){return e()},get children(){return[P(Z,{binding:[r,i]}),P(H,{class:`button btn-normal`,onClick:()=>ie(`_auth`,r()),children:`OK`})]}}),(()=>{var e=Ie(),t=e.firstChild,n=t.nextSibling;return n.firstChild,O(n,S,null),e})(),Le(),Re(),ze(),Be(),(()=>{var e=Ve(),t=e.firstChild,n=t.nextSibling,r=n.firstChild,i=r.nextSibling;return i.nextSibling,O(n,P(V,{class:`button bg-orange-300 text-slate-800`,title:`login`,onClick:()=>G(`#signup`),children:`登录`}),i),e})(),He(),(()=>{var e=Ue(),n=e.firstChild,r=n.nextSibling,i=r.firstChild,a=i.nextSibling,o=a.nextSibling,s=o.nextSibling;return s.nextSibling,O(r,P(H,{onClick:()=>t(!0),children:`点击`}),s),e})()]}})},Ge=j(`<div><span>`),Ke=e=>{let[t,n]=z(e,[`class`,`binding`,`label`,`disabled`,`onChange`]),[r,i]=t.binding,a=e=>{e.stopPropagation(),t.disabled||(i(e=>!e),t.onChange&&(typeof t.onChange==`function`?t.onChange(e):t.onChange[0](t.onChange[1],e)))};return(()=>{var e=Ge(),i=e.firstChild;return A(e,R({get class(){return`${t.disabled?`opacity-50`:``} ${t.class??``}`}},n,{get"aria-disabled"(){return t.disabled},onClick:a}),!1,!0),O(e,()=>t.label,null),F(()=>D(i,`text-[150%] align-bottom ${r()?`icon-[material-symbols--check-box-outline]`:`icon-[material-symbols--check-box-outline-blank]`}`)),e})()},qe=j(`<textarea>`),Je=e=>{let[t,n]=z(e,[`binding`]),[r,i]=t.binding;return(()=>{var e=qe();return A(e,R(n,{get value(){return r()},onInput:e=>i(e.currentTarget.value)}),!1,!1),e})()},Ye=j(`<label for=name>名称`),Xe=j(`<label for=disc class=mt-2>描述`),Ze=j(`<label for=words class=mt-2>词表`),Qe=j(`<div class="flex gap-2 my-2"><div class=grow>`),$e=j(`<label for=replace class="text-red-500 mt-2">请考虑用下面的词替换`),et=j(`<textarea name=replace class=grow>`),tt=()=>{let[e,t]=L(``),[r,i]=L(``),[a,o]=L(``),[c,l]=L(!1),[u,d]=L(``),f=async()=>{let t=`${n()}/${e()}`,r=await s(t);r?.content&&o(Array.from(r.content).sort().join(`
`))},p=async()=>{t(e=>e.replaceAll(`/`,`-`));try{let[t,n]=await v(e(),a(),r(),c());switch(t){case T.BadRequest:return Y(`Error: 无名称或无内容`);case T.NotAcceptable:return d(Object.entries(n).map(([e,t])=>`${e}: ${t.join(`,`)}`).join(`
`)),Y(`未通过拼写检查`);case T.OK:Y(`词书上传成功`),G(`#setting`)}}catch{Y(`网络错误`)}};return he(()=>{U()&&(t(C(U().bid)[1]),U().disc&&i(U().disc))},[]),P(Q,{class:`flex flex-col p-2`,title:`上传我的词书`,get children(){return[Ye(),P(Z,{name:`name`,binding:[e,t]}),Xe(),P(Z,{name:`disc`,binding:[r,i]}),Ze(),P(Je,{name:`words`,class:`grow`,binding:[a,o]}),k(()=>k(()=>!!u().length)()?[$e(),(()=>{var e=et();return e.addEventListener(`change`,e=>d(e.currentTarget.value)),F(()=>e.value=u()),e})()]:void 0),(()=>{var e=Qe(),t=e.firstChild;return O(e,P(Ke,{binding:[c,l],label:`Replace`}),t),O(e,P(V,{class:`w-24 button btn-normal`,onClick:()=>G(`#setting`),children:`取消`}),null),O(e,P(V,{class:`w-24 button btn-normal`,onClick:f,children:`下载`}),null),O(e,P(V,{class:`w-24 button btn-prime`,onClick:p,children:`上传`}),null),e})()]}})},nt=j(`<ol class="list-decimal py-2 pr-2 pl-8 [&amp;>li]:mx-2 overflow-y-auto"><li>如何使用本软件？<br>答：点击「学习」，开始学习即可；在学习界面， (1)当练习听力时，会先播放一小段声音，没有听清可以点击<div class="w-6 h-6 inline-block">&#8227;</div>或按下「B或C」快捷键或触摸屏幕的上半部分进行重听， (2)当练习阅读时，会先显示一个单词； 然后在心里默想一个概念（意思），点击「答」或按下「空格键」或触摸屏幕下半区域，显示单词的音标和解释， 并同时显示一个与该词相关的背景图片，检查是否和自己默想的答案一致，如果一致，点击「知」或按下「N或X」快捷键或向上滑动屏幕， 否则点击「不」或按下「M或Z」快捷键或向下滑动屏幕。记住，要快速完成，不要在一个词上长时间停留，那样只会降低效率， 我们的方法是快速/多次，从记忆效率来讲，次数的作用远远大于时长。这个方法称为大脑按摩，直接在拼写/声音和概念之间建立反射弧， 所以不要犹豫，快速完成一个小冲刺。</li><li>我应该学习哪些词汇？<br>答：我们的目标是在未来能够自由使用英语，应该先学重要的词汇，因为20%的英语词汇表达了80%的意思， 抓住少数基本词，将能够快速提高英语水平。本软件提供多本词书供您选择，以适应您当下的需求。但不要太多关注词书， 一个常用词通常会出现在多本词书中，不必介意它到底从哪里来。也可以不选择词书，直接基于词典 （本词典收录25000多条常用词，不在词典中的词，对于学生而言，可以不必记忆了），在词典中查到自己在生活中遇到， 但不会的词，直接开始学它，背它，终有一日，你再也遇不到生词的时候，你就已经功法大成了。</li><li>我该如何复习？<br>答：完全不必操心这个事情，让系统决定，系统自动根据「艾宾浩斯」遗忘曲线来决定此时的最佳复习内容， 你要做的事是每天利用碎片时间，拿出手机，开始「学习」。</li><li class="[&amp;>span]:align-[-20%]">界面上的按钮是什么意思？<br><span class="text-[150%] icon-[material-symbols--check-circle] iconify text-green-500"></span>: 我认识这个词；<br><span class="text-[150%] icon-[gridicons--cross-circle] iconify text-fuchsia-500"></span>: 我不认识这个词；<br><span class="text-[150%] icon-[material-symbols--volume-up] iconify text-blue-500"></span>: 再播一遍声音；<br><span class="text-[150%] icon-[material-symbols--family-star] iconify text-yellow-500"></span>: 这个词我已经掌握，直接标记为「已完成」；<br><span class="text-[150%] icon-[material-symbols--error] iconify text-red-500"></span>: 这个词的翻译/声音/音标，有问题/错误，请人工处理。<br><span class="text-[150%] icon-[material-symbols--refresh] iconify text-purple-500"></span>: 忽略本地词典缓冲，从服务器重新下载这个词的翻译/声音/音标。</li><li>关于「学习词书」<br>答：学习词书将一本词书的全部词添加进我的学习任务。但我们通常并不会直接开始学这些新词，而是优先复习旧词， 掌握巩固一个旧词比学习一批新词更重要，这些新加的任务将会成为优先级最低的任务。</li><li>关于登录和多设备<br>答：⓵软件设计为免密模式（不需要密码），在一个设备上只要用电子邮件验证身份之后，就再也不需要密码了，打开软件立即可以开始学习。<br>⓶在第二台设备上登录时，系统将自动同步学习记录和设置，你完全可以同时在电脑和手机上学习。</li><li>以后有AI翻译了，我还用得着学英语吗？<br>答：AI或者任意翻译工具甚至包括人工翻译，都只能解决浅表问题，因为一门语言是无法准确表达另一门语言的含义的， 一门语言的背后代表着文化和思维模式，这些深层次的东西是任何翻译都无法解决的。如果你有计划去英语文华圈生活/学习/工作， 那你必需亲自用人脑学好它，仅仅翻译工具是不够的。`),rt=()=>P(Q,{class:`flex flex-col pb-4`,title:`帮助`,onBackClick:()=>G(),get children(){return nt()}}),it=j(`<div class=text-left>`),at=j(`<div class="relative bg-[var(--bg-title)] h-6 py-1 w-full hover:cursor-pointer"><div class="my-auto h-4 bg-slate-400"><div class="ml-auto h-full bg-orange-500"></div></div><div class="absolute top-0 right-1">|`),ot=j(`<div class="grow min-w-80 grid gap-x-1 grid-cols-[max-content_1fr] items-center"><div class="col-span-2 text-center font-bold"><button type=button class="hover:cursor-pointer hover:underline">`);const st=e=>[(()=>{var t=it();return O(t,()=>oe[e.blevel]),t})(),(()=>{var t=at(),n=t.firstChild,r=n.firstChild,i=n.nextSibling,a=i.firstChild;return O(i,()=>e.tasks[e.blevel],a),O(i,()=>e.totals[e.blevel],null),F(t=>{var i=`${e.width?e.totals[e.blevel]*100/e.width:100}%`,a=`${e.totals[e.blevel]?e.tasks[e.blevel]*100/e.totals[e.blevel]:0}%`;return i!==t.e&&((t.e=i)==null?n.style.removeProperty(`width`):n.style.setProperty(`width`,i)),a!==t.t&&((t.t=a)==null?r.style.removeProperty(`width`):r.style.setProperty(`width`,a)),t},{e:void 0,t:void 0}),t})()];var ct=e=>(()=>{var t=ot(),n=t.firstChild,r=n.firstChild;return r.$$click=()=>Oe(e.bid),O(r,()=>e.title),O(t,P(M,{each:[0,1,2,3,4,5],children:t=>P(st,{blevel:t,get totals(){return e.totals},get tasks(){return e.tasks},get width(){return e.width}})}),null),t})();ue([`click`]);var lt=j(`<div class="body grow overflow-y-auto"><div class="p-2 flex flex-wrap justify-between gap-4">`),ut=j(`<span class=icon-[material-symbols--dictionary]>`),dt=j(`<span class=icon-[hugeicons--online-learning-01]>`),ft=j(`<span class=icon-[material-symbols--settings]>`),pt=j(`<span class=icon-[tabler--info-octagon]>`),mt=j(`<span class=icon-[material-symbols--error-outline]>`),ht=j(`<span class=icon-[material-symbols--help-outline]>`),gt=j(`<div class="tail shrink-0 px-4 pt-2 pb-5 flex gap-3 justify-between [&amp;>button]:grow [&amp;>button>span]:align-[-30%] [&amp;>button]:min-w-[110px] [&amp;>button>span]:text-4xl font-bold overflow-x-auto [scrollbar-width:none]">`);const _t=(e,t)=>e+t,vt=(e,t)=>e>t?e:t,yt=e=>{let t=x(e.total),n=x(e.task),r=t.reduce(vt)*1.2,i=e.total.reduce(_t),a=e.task.reduce(_t),o=e.bid?C(e.bid)[1]:``,s=`${e.disc??o} - ${a}|${i}`;return{bid:e.bid,totals:t,tasks:n,width:r,title:s}};var bt=()=>P(Q,{class:`flex flex-col`,title:`学习进度`,get children(){return[(()=>{var e=lt(),t=e.firstChild;return O(t,P(M,{get each(){return ke().stats},children:e=>P(ct,R(()=>yt(e)))})),e})(),(()=>{var e=gt();return O(e,P(V,{onClick:()=>G(`#search`),get children(){return[ut(),` 词典`]}}),null),O(e,P(V,{onClick:()=>Oe(),get children(){return[dt(),` 学习`]}}),null),O(e,P(V,{onClick:()=>G(`#setting`),get children(){return[ft(),` 设置`]}}),null),O(e,P(V,{onClick:()=>G(`#about`),get children(){return[pt(),` 关于`]}}),null),O(e,P(V,{onClick:()=>G(`#issue`),get children(){return[mt(),` 问题`]}}),null),O(e,P(V,{onClick:()=>G(`#help`),get children(){return[ht(),` 帮助`]}}),null),e})()]}}),xt=j(`<label for=issue>请在这里描述你的问题:`),St=j(`<div class="flex gap-2 mt-2 pb-3 justify-end">`),Ct=()=>{let[e,t]=L(``),n=async()=>{await ee(e()),Y(`提交成功!`),G()};return P(Q,{class:`p-2 flex flex-col`,title:`提交问题`,get children(){return[xt(),P(Je,{name:`issue`,class:`grow`,binding:[e,t],get children(){return e()}}),(()=>{var e=St();return O(e,P(V,{class:`w-24 button btn-normal`,onClick:()=>G(),children:`取消`}),null),O(e,P(V,{class:`w-24 button btn-prime`,onClick:n,children:`提交`}),null),e})()]}})},wt=()=>{let e=L(``),t=async()=>{let t=e[0]().trim();if(!t)return;let n=await p(t);if(!n)return Y(`Not Found!`);J(n),Se(!0),we(-1),G(`#study`)};return P(Q,{class:`flex flex-col text-lg`,title:`词典`,onBackClick:()=>G(),get children(){return P(ge,{autoCapitalize:`none`,type:`search`,name:`word`,placeholder:`word`,class:`m-2 w-[calc(100%-16px)]`,binding:e,onChange:t,get options(){return r()}})}})},Tt=j(`<fieldset class="border rounded shrink-0 overflow-y-auto px-2"><legend>我的词书`),Et=j(`<div class="flex justify-between gap-2">`),Dt=j(`<div class="flex gap-2"><label for=filter>设置过滤`),Ot=j(`<fieldset class="border rounded max-h-[70%] grow shrink overflow-y-auto px-2"><legend>可用的词书`),kt=j(`<fieldset class="border rounded shrink-0 overflow-y-auto px-2"><legend>我订阅的词书`),At=j(`<div class="pb-3 flex justify-between gap-2">`),jt=()=>{let[e,r]=L([]),[o,s]=L(0),[c,l]=L([]),[u,d]=L(0),[f,p]=L([]),[h,ee]=L(0),[_,te]=L(`^common`),v=()=>{be(void 0),G(`#book`)},y=()=>{be(e()[o()]),G(`#book`)},ne=async()=>{let t=await a(e()[o()].bid);Y(t?`删除成功`:`删除失败`),t&&r(e().filter((e,t)=>t!==o()))},ie=()=>{l([...c(),f()[h()]])},ae=()=>{l([...c().slice(0,u()),...c().slice(u()+1)])},oe=async()=>{Ce(!0),await i(c()[u()].bid),await t(),Ce(!1)},x=async()=>{await g({format:se,version:w(),books:c().map(e=>e.bid)}),await t(),G()},S=()=>{Te(``),G(`#about`),re()};return I(_,async e=>{let t=new RegExp(e);p((await b(e=>t.test(e.bid)||e.disc&&t.test(e.disc))).sort(ce))}),I(async()=>{p((await b(e=>e.bid.startsWith(`common`))).sort(ce)),l(await b(e=>m.books.includes(e.bid))),r(await b(e=>e.bid.startsWith(n())))}),P(Q,{class:`p-2 gap-2 flex flex-col`,title:`设置`,get children(){return[(()=>{var t=Tt();return t.firstChild,O(t,P(B,{cindex:[o,s],get options(){return e()},func:e=>e.disc??e.bid,class:`px-2`,activeClass:`bg-[var(--bg-title)]`}),null),t})(),(()=>{var t=Et();return O(t,P(V,{class:`button btn-normal grow`,name:`new`,onClick:v,children:`新建`}),null),O(t,P(V,{class:`button btn-normal grow`,name:`delete`,get disabled(){return!e().length},onClick:ne,children:`删除`}),null),O(t,P(V,{class:`button btn-normal grow`,name:`update`,get disabled(){return!e().length},onClick:y,children:`更新`}),null),t})(),(()=>{var e=Dt();return e.firstChild,O(e,P(Z,{class:`grow`,name:`filter`,binding:[_,te]}),null),e})(),(()=>{var e=Ot();return e.firstChild,O(e,P(B,{class:`px-2`,cindex:[h,ee],get options(){return f()},func:e=>e.disc??e.bid,activeClass:`bg-[var(--bg-title)]`}),null),e})(),(()=>{var e=Et();return O(e,P(V,{class:`button btn-normal grow`,onClick:ie,children:`添加订阅`}),null),O(e,P(V,{class:`button btn-normal grow`,onClick:ae,children:`删除订阅`}),null),e})(),(()=>{var e=kt();return e.firstChild,O(e,P(B,{class:`px-2`,cindex:[u,d],get options(){return c()},func:e=>e.disc??e.bid,activeClass:`bg-[var(--bg-title)]`}),null),e})(),(()=>{var e=At();return O(e,P(V,{class:`button btn-normal grow`,onClick:oe,children:`添加任务`}),null),O(e,P(V,{class:`button btn-normal grow`,onClick:()=>G(),children:`取消`}),null),O(e,P(V,{class:`button btn-prime grow`,onClick:x,children:`保存`}),null),O(e,P(V,{class:`button btn-normal grow`,onClick:S,children:`登出`}),null),e})()]}})},Mt=j(`<div class="w-64 m-auto flex flex-col"><label for=name>用户名</label><label for=code>临时密码`);let $;var Nt=()=>{let[e,t]=L(``),[n,r]=L(0),[i,a]=L(!0),o=async()=>{a(!1),r(60),$=setInterval(()=>{r(e=>e-1)<=0&&(clearInterval($),$=void 0,a(!0))},1e3);try{switch((await y(q())).status){case T.BadRequest:return Y(`请输入用户名`);case T.NotFound:return Y(`未找到用户`);case T.FailedDependency:return Y(`此用户未注册手机号码`);case T.TooEarly:return Y(`请求OTP过于频繁`);case T.OK:return Y(`OTP已发送`);default:Y(`未知服务器错误`)}}catch{Y(`网络错误`)}},s=async()=>{try{switch(await h(q(),e())){case T.BadRequest:return Y(`请输入用户名和密码`);case T.NotFound:return Y(`未找到用户`);case T.Unauthorized:return Y(`错误的密码`);case T.OK:Y(`已登录`),$&&clearInterval($),location.reload();break;default:Y(`未知服务器错误`)}}catch{Y(`网络错误`)}};return P(Q,{class:`p-2 flex flex-col`,title:`登录`,onBackClick:()=>G(),get children(){var r=Mt(),a=r.firstChild,c=a.nextSibling;return O(r,P(Z,{name:`name`,class:`mb-3`,placeholder:`name`,autoCapitalize:`none`,get binding(){return[q,xe]}}),c),O(r,P(Z,{name:`code`,placeholder:`code`,autoCapitalize:`none`,binding:[e,t]}),null),O(r,P(H,{class:`btn-anchor block text-right mb-3`,onClick:o,get disabled(){return!i()},get children(){return[`Send One-Time Passcode `,k(()=>k(()=>n()>0)()?`(${n()})`:``)]}}),null),O(r,P(V,{class:`button btn-prime`,onClick:s,children:`登录`}),null),r}})},Pt=j(`<div class="w-64 m-auto flex flex-col pb-4"><label for=name>用户名</label><label for=phone>手机号码(含国际区号)</label><div class="text-right mb-3">已经注册，请`);const Ft=/^[_\w-]+$/,It=/^\+\d+$/;var Lt=()=>{let[e,t]=L(``),n=()=>{G(`#signin`)},r=async()=>{if(!Ft.test(q()))return Y(`Name can only include _, letter, number and -`);let t=e().replaceAll(/[() -]/g,``);if(!It.test(t))return Y(`Invalid phone number!`);try{switch((await ne(t,q())).status){case T.BadRequest:return Y(`用户名已注册`);case T.Conflict:return Y(`电话号码已注册`);case T.OK:return Y(`注册成功，请登录`),G(`#signin`);default:Y(`未知数服务器错误`)}}catch{Y(`网络错误`)}};return P(Q,{class:`p-2 flex flex-col`,title:`注册`,onBackClick:()=>G(),get children(){var i=Pt(),a=i.firstChild,o=a.nextSibling,s=o.nextSibling;return s.firstChild,O(i,P(Z,{name:`name`,placeholder:`name`,autoCapitalize:`none`,get binding(){return[q,xe]},class:`mb-3`}),o),O(i,P(Z,{name:`phone`,placeholder:`+1(987)765-5432`,autoCapitalize:`none`,binding:[e,t],class:`mb-3`}),s),O(s,P(V,{class:`button btn-normal mx-1`,onClick:n,children:`登录`}),null),O(i,P(V,{class:`button btn-prime py-1`,onClick:r,children:`注册`}),null),i}})};const Rt=e=>new Promise(t=>setTimeout(t,e));var zt=j(`<header class="flex gap-2">`),Bt=j(`<section>`),Vt=j(`<div>`),Ht=e=>{let t=me(()=>e.children),[n,r]=e.cindex,i=Array.isArray(t())?t():[t()],a=(e,t)=>{t.stopPropagation(),r(e)};return P(N,{get when(){return i.length},get children(){return[(()=>{var t=zt();return O(t,P(M,{each:i,children:(t,r)=>(()=>{var i=Vt();return i.$$click=a,i.$$clickData=r,O(i,()=>t.title||r()),F(()=>D(i,`min-w-16 px-2 py-1 cursor-pointer text-center rounded-t-md ${n()===r()?e.class??``:``}`)),i})()})),t})(),(()=>{var t=Bt();return O(t,()=>i[n()]),F(()=>D(t,`grow p-2 ${e.class??``}`)),t})()]}})};ue([`click`]);var Ut=j(`<p class="text-xl font-bold text-[var(--accent-color)]">`),Wt=j(`<span class=text-lg>`),Gt=j(`<span>&ensp;`),Kt=j(`<span class="text-xl font-bold">`),qt=j(`<p><span>&ensp;-&ensp;`),Jt=e=>P(M,{get each(){return Object.entries(e.entry.meanings)},children:([e,t])=>[P(N,{when:e,get children(){var t=Ut();return O(t,e),t}}),P(M,{each:t,children:e=>(()=>{var t=qt();return t.firstChild,O(t,P(N,{get when(){return e.def},get children(){var t=Wt();return O(t,()=>e.def),t}}),null),O(t,P(N,{get when(){return e.def&&e.trans},get children(){return Gt()}}),null),O(t,P(N,{get when(){return e.trans},get children(){var t=Kt();return O(t,()=>e.trans),t}}),null),t})()})]}),Yt=j(`<div class="menu absolute top-[100%] right-[36px] text-lg text-right bg-[var(--bg-body)] z-1">`),Xt=j(`<div class="relative flex gap-4 text-[150%] justify-between items-end"><div class=text-lg>`),Zt=j(`<div class="relative grow h-0 pb-4 flex flex-col overflow-y-auto"><div class="py-2 flex gap-2 flex-wrap justify-between"><div class="text-4xl font-bold"></div></div><audio autoplay>`),Qt=j(`<div>`),$t=j(`<menu>`),en=j(`<div class="text-2xl flex items-center">`),tn=j(`<div class=grow>`),nn=()=>{let e=async()=>{G(X()<0?`#search`:void 0),await t(),await _(),t()},r,[i,a]=L(0),l={startY:0,endY:0,cScrollTop:0,moveTop:0},[u,f]=L([]),p=L(!1),m,h=async e=>{W()&&await ae(W().word,e)},g=async()=>{if(X()<0)return e();we(e=>e+1),J(void 0),Se(!1);let t=await c(_e());if(!t)return e();J(t),a(0)},y=async(e,t)=>{l.moveTop+=e;let n=Math.abs(l.moveTop);r.style.top=`${l.moveTop}px`,n<t&&(await Rt(30),await y(e,t))},ne=async()=>{Y(`Get Server Data...`,!1);let e=await te(W());ve(),J({...e})},re=async()=>{Y(`Submiting...`,!1),await ee(W().word),Y(`Submit Success!`)},ie=async()=>{Y(await o(W().word)?`删除成功`:`删除失败`),await g()},oe=e=>{if(e.stopPropagation(),!(e.ctrlKey||e.altKey))switch(e.key){case` `:w(e);break;case`N`:case`X`:case`n`:case`x`:K()&&h().then(g);break;case`M`:case`Z`:case`m`:case`z`:K()&&h(0).then(g);break}},x=e=>{e.stopPropagation(),e.preventDefault(),K()&&(l.endY=l.startY=e.touches[0].clientY,l.cScrollTop=e.currentTarget.scrollTop)},S=e=>{if(e.stopPropagation(),e.preventDefault(),!K())return;l.endY=e.touches[0].clientY;let t=l.endY-l.startY,n=e.currentTarget;if(t<0){let e=n.scrollHeight-n.clientHeight;l.cScrollTop-t<e?n.scrollTop=l.cScrollTop-t:(n.scrollTop=e,l.moveTop=e-(l.cScrollTop-t))}else l.cScrollTop-t>0?n.scrollTop=l.cScrollTop-t:(n.scrollTop=0,l.moveTop=t-l.cScrollTop);r.style.top=`${l.moveTop}px`},se=e=>{e.stopPropagation(),e.preventDefault(),K()&&(l.moveTop=0,l.cScrollTop=e.currentTarget.scrollTop,r.style.top=`${l.moveTop}px`)},ce=async e=>{if(e.stopPropagation(),e.preventDefault(),!K())return l.moveTop=0,l.cScrollTop=e.currentTarget.scrollTop,r.style.top=`${l.moveTop}px`,w();let t=e.currentTarget.scrollHeight+60,n=Math.max(globalThis.innerHeight,t);Math.abs(l.moveTop)>=globalThis.innerHeight/6?(l.moveTop>0?(await h(0),await y(60,n)):(await h(),await y(-60,n)),await g()):Math.abs(l.moveTop)<5&&w(),l.moveTop=0,r.style.top=`${l.moveTop}px`},w=e=>{if(e?.stopPropagation(),p[0]())return p[1](!1);let t=W()?.entries?.length??0;K()?t===1?m.play():i()<t-1?a(e=>e+1):a(0):(Se(!0),m.play())},le=async e=>{p[1](!1);let t=W().word,n=(await s(e.bid))?.content;if(n?.has(t))return Y(`已包含`);let[r,i]=C(e.bid),[a]=await v(i,t);Y(a===T.OK?`添加成功`:`添加失败`),n?.add(t),(await d()).add(t)};return I(async()=>{f(await b(e=>C(e.bid)[0]===n()))}),P(Q,{onBackClick:e,onKeyUp:oe,tabIndex:-1,class:`flex flex-col p-2 outline-none`,get title(){return`学习${X()>0?`(${X()})`:``}`},get children(){return P(N,{get when(){return W()},get children(){return[(()=>{var e=Xt(),t=e.firstChild;return O(e,P(H,{onClick:()=>h().then(g),title:`X/N`,class:`iconify icon-[material-symbols--check-circle] text-green-500`,get disabled(){return!K()}}),t),O(e,P(H,{onClick:()=>h(0).then(g),title:`Z/M`,class:`iconify icon-[mdi--cross-circle] text-fuchsia-500`,get disabled(){return!K()}}),t),O(e,P(H,{onClick:()=>h(13).then(g),class:`iconify icon-[material-symbols--family-star] text-yellow-500`,get disabled(){return!K()}}),t),O(e,P(H,{onClick:ie,class:`iconify icon-[material-symbols--delete-outline] text-orange-500`,get disabled(){return!K()}}),t),O(e,P(H,{onClick:()=>m.play(),class:`iconify icon-[material-symbols--volume-up] text-blue-500`}),t),O(e,P(H,{onClick:re,class:`iconify icon-[material-symbols--error] text-red-500`,get disabled(){return!K()}}),t),O(e,P(H,{onClick:ne,class:`iconify icon-[material-symbols--refresh] text-purple-500`,get disabled(){return!K()}}),t),O(e,P(H,{onClick:()=>p[1](e=>!e),class:`iconify icon-[material-symbols--dictionary-outline] text-cyan-500`,get disabled(){return!K()}}),t),O(t,()=>W()?.level),O(e,P(N,{get when(){return p[0]()},get children(){var e=Yt();return O(e,P(M,{get each(){return u()},children:e=>[Qt(),(()=>{var t=$t();return t.$$click=()=>le(e),O(t,()=>e.disc??e.bid),t})()]}),null),O(e,(()=>{var e=k(()=>!!u().length);return()=>e()&&Qt()})(),null),e}}),null),e})(),(()=>{var e=Zt(),t=e.firstChild,n=t.firstChild,o=t.nextSibling;E(e,`touchcancel`,se),E(e,`touchend`,ce),E(e,`touchmove`,S),E(e,`touchstart`,x),E(e,`click`,w);var s=r;typeof s==`function`?pe(s,e):r=e,O(n,()=>W()?.word),O(t,(()=>{var e=k(()=>!!K());return()=>e()&&(()=>{var e=en();return O(e,()=>W()?.entries?.[i()].phonetic),e})()})(),null),O(e,P(N,{get when(){return K()},get children(){return P(N,{get when(){return(W()?.entries?.length??0)>1},get fallback(){return(()=>{var e=tn();return O(e,P(Jt,{get entry(){return W()?.entries?.[0]}})),e})()},get children(){return P(Ht,{class:`bg-[var(--bg-tab)]`,cindex:[i,a],get children(){return P(M,{get each(){return W()?.entries},children:e=>(()=>{var t=tn();return O(t,P(Jt,{entry:e})),t})()})}})}})}}),o);var c=m;return typeof c==`function`?pe(c,o):m=o,F(()=>fe(o,`src`,W()?.entries?.at(i())?.sound??``)),e})()]}})}})};ue([`click`]);var rn=()=>{let e=new Map;e.set(`#home`,bt),e.set(`#help`,rt),e.set(`#about`,We),e.set(`#issue`,Ct),e.set(`#setting`,jt),e.set(`#search`,wt),e.set(`#study`,nn),e.set(`#signup`,Lt),e.set(`#signin`,Nt),e.set(`#book`,tt);let n=async()=>{Te(await u()??``)?(G(`#home`),await f(),await t(),(async()=>{await l(),Ee(await d()??[]),await g(),await _(),await t()})()):G(`#about`)};return he(()=>{n()}),P(le,{get component(){return e.get(ye())}})};de(()=>P(rn,{}),document.getElementById(`root`));