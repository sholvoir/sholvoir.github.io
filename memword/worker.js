const e=`https://memword.micinfotech.com`,t=`0.15.2`,n=`MemWord-V${t}`,r=RegExp(`^${e}/(pub|api|admin)/`),i=async()=>{for(let e of await caches.keys())e!==n&&await caches.delete(e);await self.clients.claim()},a=async(e,t)=>{await(await caches.open(n)).put(e,t)},o=async e=>{if(console.log(e.url),r.test(e.url))return await fetch(e);let t=await caches.match(e);if(t)return t;let n=await fetch(e);return n.ok&&a(e,n.clone()),n};self.oninstall=e=>e.waitUntil(self.skipWaiting()),self.onactivate=e=>e.waitUntil(i()),self.onfetch=e=>e.respondWith(o(e.request));